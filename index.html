<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Script to play, manipulate and download YouTube videos" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <!-- generics -->
    <link rel="icon" href="images/favicon-32.png" sizes="32x32">
    <link rel="icon" href="images/favicon-96.png" sizes="96x96">
    <link rel="icon" href="images/favicon-128.png" sizes="128x128">
    <link rel="icon" href="images/favicon-192.png" sizes="192x192">

    <!-- iOS -->
    <link rel="apple-touch-icon" href="images/favicon-128.png" sizes="128x128">
    <link rel="apple-touch-icon" href="images/favicon-152.png" sizes="152x152">
    <link rel="apple-touch-icon" href="images/favicon-180.png" sizes="180x180">

    <!-- Windows 8 IE 10-->
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="images/favicon-144.png">

    <!— Windows 8.1 + IE11 and above —>
    <meta name="msapplication-config" content="images/browserconfig.xml" />

    <meta name="msapplication-TileColor" content="#fefefe"/>
    <meta name="msapplication-square70x70logo" content="favicon-128.png"/>
    <meta name="msapplication-square150x150logo" content="favicon-270.png"/>
    <meta name="msapplication-TileImage" content="favicon-270.png"/>
    <meta name="msapplication-config" content="none"/>

    <title>Snarl's YouTube Video Player</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/snarly/yt6">View on GitHub</a>

          <h1 id="project_title">Yt6</h1>
          <h2 id="project_tagline">Play back free of ads, tweak around with and download YouTube video & audio in almost any browser on both Desktop and Mobile</h2>

    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">

    <img style="position: absolute; left: 100%; height: 180px" src="images/screenshot01.jpg"></img>
    <img style="position: absolute; left: 100%; height: 180px; top: 231px" src="images/screenshot02.jpg"></img>
    <img style="position: absolute; left: 100%; height: 750px; top: 804px" src="images/screenshot03.jpg"></img>
    <img style="position: absolute; left: 100%; height: 180px; top: 422px" src="images/screenshot04.jpg"></img>
    <img style="position: absolute; left: 100%; height: 180px; top: 613px" src="images/screenshot05.jpg"></img>


	<h3>
	<a href="javascript:(function(){var w=window,d=w.document;if(d.location.href.indexOf('youtube.com/watch')>-1||d.location.href.indexOf('/base.js')==d.location.href.length-8){var id='snarls_player',e='script';yt6=(w.yt6)?w.yt6:{};yt6d=(w.yt6d)?w.yt6d:{};yt6.loaded=0;function s(x){x=x||id;return d.getElementById(x)};function c(e){return d.createElement(e)};function a(q){s().appendChild(q);s().add_subs='en,hu,de';yt6d.src=q.src};function r(){if(s()){var x=s().querySelector('#'+id);if(x)s().removeChild(x)}};function b(){var i,j,o,x;o=['.githack','git','js'];for(j,x,i=o.length;i;j=Math.floor(Math.random()*i),x=o[--i],o[i]=o[j],o[j]=x);if(yt6d.src!=1)o.splice(0,0,'.githubusercontent');var q=c('div');q.id=id;if(q!=s())d.body.appendChild(q);var src='https://raw'+o[0]+'.com/snarly/yt6/9178f3c2c0b20474ab8d88a7dbc0af8866f2dc3f/yt6.js';var src0='https://cdn.jsdelivr.net/gh/snarly/yt6@9178f3c2c0b20474ab8d88a7dbc0af8866f2dc3f/yt6.js';function oc(ox,oy,sr){return(oy!='js')?sr.replace(ox,oy):src0};var q=c(e);q.id=id;q.src=(o[0]!='js')?src:src0;q.onerror=function(){var q=c(e);q.id=id;q.src=oc(o[0],o[1],src);q.onerror=function(){var q=c(e);q.id=id;q.src=oc(o[0],o[2],src);q.onerror=function(){var q=c(e);q.id=id;q.src=oc(o[0],o[3],src);q.onerror=function(){var q=c(e);q.id=id;q.src=src.replace('https','http')};a(q);r();};a(q);r();};a(q);r();};try{a(q);}catch(f){a(q)};};function g(){try{deldiv()}catch(f){r()};yt6d.src=1;b()};if(!s()){b()};if(s()&&(!yt6.body||(yt6.loaded>1&&!s('mep_init'))))setTimeout(function(){if(!yt6.body||(yt6.body&&yt6.loaded>2&&!s('mep_init')))g()},3000);}else{void 0};})();/*202010061100*/">Yt6 -- Snarl's YouTube Video Player (bookmarklet)</a>
	</h3>
	<h4>
		Last updated on Oct 6, 2020 11:00
	</h4>
		(Please check back from time to time to try the latest version, and if it works well, dump the 
older ones. It may be crucial regarding its functionality.)
	<h1>
		Features
	</h1>
		On any YouTube video (watch) page, this bookmarklet will call a external player and load 
		some extra functions, some of which can be used with YouTube's original player as well. 
		The code is pure javascript written with the aim to be as much platform-independent and 
		backward-compatible as possible. The program is able to

	<br>
	<ol>
		<li class="feat">restrict on-site advertisement,</li>
		<li class="feat">resize, zoom, rotate and move around video picture arbitrarily,</li>
		<li class="feat">select the desired media sequence to loop,</li>
		<li class="feat">change playback rate ("speed" or tempo) from 0 or 25% to up to 500 or 1600%,</li>
		<li class="feat">load an external audio file to play alongside the current video,</li>
		<li class="feat">pick your favoured (and supported) video/audio codec and resolution for playback,</li>
		<li class="feat">download the video/audio content,</li>
		<li class="feat">download subtitles/closed captions (CC)
		<ol>
		On bookmarklet line, you can edit the value 
		of "add_subs" after the equal sign and between apostrophes (a comma separated list 
		of ISO 639-1 languge codes, such as <code>'en, de, fr, es, jp'</code>...) to add Google-Translated tracks 
		of your choice,
		</ol>
		</li>
		<li class="feat">bypass age verification (only if video embedding is enabled by the content owner); 
		<ol>
		Examples: <a href="https://www.youtube.com/watch?v=07FYdnEawAQ)">Tunnel Vision (signatures encrypted)</a>, <a href="https://www.youtube.com/watch?v=UqPsrqpwLmU">Cobra (signatures unencrypted)</a><br>
		If you encounter videos like these on a playlist (while also being logged out or 
		ineligible to watch), the site's new layout will automatically throw you to the next one 
		-- the script, however, will retain the age-restricted video's data and let you continue 
		to play it until it ends or you push the "next" button, upon which events the player 
		should load the data for the actual video whose page you were tossed onto,
		</ol>
		</li>
		<li class="feat">facilitate background play while your mobile is in sleep mode (experimental)</li>
		<li class="feat">change between YouTube layouts by setting the cookie on exit no longer works :( 
		<ol>
		YouTube stopped honoring the setting in July 2020 -- use a suitable browser 
		extension such as <strong><b>"Good Old YouTube"</b></strong> (for <a href="https://addons.mozilla.org/en/firefox/addon/good-old-youtube/">Firefox</a> and <a href="https://chrome.google.com/webstore/detail/good-old-youtube/klkejolkjcefmocpgpjiefbpmgofahmh">Chrome</a>) if you want the 
		classic layout back
		</ol>
		</li>
	</ol>
	<br>

	<h1>
		Setup
	</h1>

	<ol>
		<li>Right click / hold your finger on the Yt6 link above, and "Copy link address". If you 
		have no such option, the code is written below in plain text, select and copy it manually</li>
		<li>Bookmark any web page (this one for example)</li>
		<li>Edit the created bookmark's Properties / Location: delete its URL-address entirely, 
		and paste this snippet of javascript code in its place. (Optionally, you can give it a name 
		of your choice too.)</li>
		<li>Save the changes, if there is a Save button!</li>
	</ol>
		That's it, your bookmarklet is now ready to use.
	<br><br>
		Also, in many desktop browsers you can simply drag and drop the link to the Bookmarks 
		Toolbar, or right click on it and select "Bookmark this link".


	<br><br>
		Code in plain text:
	<br>
	<p>
	<code>
		javascript:(function(){var w=window,d=w.document;if(d.location.href.indexOf('youtube.com/watch')>-1||d.location.href.indexOf('/base.js')==d.location.href.length-8){var id='snarls_player',e='script';yt6=(w.yt6)?w.yt6:{};yt6d=(w.yt6d)?w.yt6d:{};yt6.loaded=0;function s(x){x=x||id;return d.getElementById(x)};function c(e){return d.createElement(e)};function a(q){s().appendChild(q);s().add_subs='en,hu,de';yt6d.src=q.src};function r(){if(s()){var x=s().querySelector('#'+id);if(x)s().removeChild(x)}};function b(){var i,j,o,x;o=['.githack','git','js'];for(j,x,i=o.length;i;j=Math.floor(Math.random()*i),x=o[--i],o[i]=o[j],o[j]=x);if(yt6d.src!=1)o.splice(0,0,'.githubusercontent');var q=c('div');q.id=id;if(q!=s())d.body.appendChild(q);var src='https://raw'+o[0]+'.com/snarly/yt6/9178f3c2c0b20474ab8d88a7dbc0af8866f2dc3f/yt6.js';var src0='https://cdn.jsdelivr.net/gh/snarly/yt6@9178f3c2c0b20474ab8d88a7dbc0af8866f2dc3f/yt6.js';function oc(ox,oy,sr){return(oy!='js')?sr.replace(ox,oy):src0};var q=c(e);q.id=id;q.src=(o[0]!='js')?src:src0;q.onerror=function(){var q=c(e);q.id=id;q.src=oc(o[0],o[1],src);q.onerror=function(){var q=c(e);q.id=id;q.src=oc(o[0],o[2],src);q.onerror=function(){var q=c(e);q.id=id;q.src=oc(o[0],o[3],src);q.onerror=function(){var q=c(e);q.id=id;q.src=src.replace('https','http')};a(q);r();};a(q);r();};a(q);r();};try{a(q);}catch(f){a(q)};};function g(){try{deldiv()}catch(f){r()};yt6d.src=1;b()};if(!s()){b()};if(s()&&(!yt6.body||(yt6.loaded>1&&!s('mep_init'))))setTimeout(function(){if(!yt6.body||(yt6.body&&yt6.loaded>2&&!s('mep_init')))g()},3000);}else{void 0};})();/*202010061100*/
	</code>
	</p>
	<p>__</p>
	<h1>
		How to use
	</h1>
		<b><strong>On Desktop, just click on it on your bookmarks list</strong></b> whenever you enter a YouTube 
		video you want to download or play around with, unless you have the code already 
		running.
	<br><br>
		<b><strong>On mobile, tap the browser's URL/address bar first </strong></b> (NOT the YouTube search bar!). 
		After that, the browser should suggest it as an available option once you start <b><strong>typing</strong></b> either 
		<b><strong>its name</strong></b> ("Yt6" or whatever you named it) or the prefix "javascript:" to narrow down the 
		search to bookmarklets only. <b><strong>Tapping on the correct entry</strong></b> shall initiate the call.
	<br><br>
		Automatic playback depends on the state of YouTube's own "Repeat / Loop Playlist" 
		button on user-created playlists. 
	<br><br>
		Use the HTML5 emblem on the control panel to switch between the native and this 
		alternative player.
	<br><br>
	<h1>
		Background play on Mobile
	</h1>
		You won't have to request YouTube's resource-hungry Desktop mode to be able to listen 
		to videos over a locked screen -- the site's lightweight Mobile version will do just fine. Use 
		the 48k Opus audio-only format for playback to save as much power as possible. (The 
		drop in sound quality rarely becomes noticeable.) Beside the fact that picking a video 
		format for background play is pretty much pointless as you can't see the video over the 
		locked screen, it would also raise the chance of playback failure significanty, not to 
		mention your device may be drained of power sooner than if you'd have just been using 
		the YT player in Desktop view mode.
	<br><br>
		Drawbacks: the jump forward button on the locked screen's media control panel will never 
		work (by design, because they do not want you to use their site for continuous background 
		play on mobile). Plus, since there is no way to view age-restricted videos on 
		this UI without being logged in, you would have to manually skip those after you unlocked 
		the screen.
	<br><br>
		The media controls over the screen lock provide real access to the original player only. 
		When the alternative player is the active one, the panel's play button is merely able to 
		kickstart it, but can't pause it or seek forward or backward on its time rail.

	<br><br>
	<h1>
		Supported browsers
	</h1>
		<b><strong>On Desktop</strong></b>, the script should work with almost any browser now. The only criteria is that 
		they must support the usage of bookmarklets, which most of them do.
	<br><br>
		Below is a ranking of popular <b><strong>Mobile browsers</strong></b> from best to worst, based on how well 
		they utilized the script's alternative player while an Android phone was in true sleep 
		mode (I had no opportunity to test it on other mobile platforms' hardware yet, so the problems 
		may very well be related to the device and not the code.) as the javascript-controlled 
		playback is prone to fail mostly in sleep mode. Note that as long as the device is 
		connected to a power source through cable, it never really enters sleep mode. 
	<ol><p>
	<h5>
		Good ones
	</h5>
		<li><b><strong>Google Chrome</strong></b>
		<ol>Since version 85, this corporate vehicle of product placement has taken the Nr.1 spot. I wouldn't be surprised if the developers at Google were deliberately adding some massive overhead to the open source code of Chromium (the base code for virtually every browser on the market right now except for Firefox) that only they know how to neutralize, in order to make the others run slower and thereby rid themselves of the competition.<br>By the way: do not dismiss their newest nagging pop-ups on YouTube. (You can clear the YT-cookie if you already have punched "Agree" or "No, thanks".) The running script will make them disappear, and that way video ads may come up less frequently.</ol></li>
		<li><b><strong>Brave</strong></b>
		<ol>Seems to have slightly overcome Vivaldi, but is now losing to Chrome. Still, it has its highly effective built-in ad filter.</ol></li>

		<li><b><strong>Vivaldi</strong></b>
		<ol>A few months ago it was unquestionably the best and fastest. Fell behind somewhat since then, unfortunately. Continuous playback fails more now, but usually not due to error but to Vivaldi's diminished speed. (Playback which seemingly halted may resume even without any user interaction, but after like half a minute or more spent in idle...)</ol></li>

		<li><b><strong>Kiwi</strong></b>
		<ol>"Invalid response" YouTube network error occurs more often than with the previous browsers.</ol></li>
	<h5>
		Bad ones
	</h5>
		<li><b><strong>Opera</strong></b>
		<ol>Most of the time it stops with the "Invalid response" error after a couple of videos. Interestingly, YouTube's native player would falter with Opera quite often as well</ol></li>

		<li><b><strong>Edge</strong></b>
		<ol>Playback stops after even less videos than with Opera. Edge tries to pause every media playback outside of the original YouTube player rather vehemently</ol></li>

		<li><b><strong>Yandex</strong></b>
		<ol>Used to fare better than Opera. Now it's more fierce than Edge in trying to cancel external media playback. It's so fierce, it virtually shoots itself in the foot by breaking its own sound system</ol></li>

		<li><b><strong>Firefox</strong></b>
		<ol>Quite slow, and because of that, playback would always stop after 2 consecutive 
		videos on background play. This, however, applies to the <b><strong>68.11.0 version only.</strong></b> 
		Which is not great, but at least works, and you should seriously make a case for 
		keeping it from auto-upgrading itself. Because the newer one...
	<br>	The Firefox for Android update of August 2020 introduced a general-purpose 
		browser so featureless and buggy, one can only wonder if the people responsible for 
		it did actually want to damage Mozilla's market share on purpose. Support for 
		bookmarklets was dropped from its repertoire altogether. Sacrificed on the altar of 
		security, I guess. Along with countless other things. Beta-level software at best, 
		forced down the user's throat...
</ol></li>
		
	</p></ol>


	<br><br>
		Regardless of platform, the default "noname" browsers that come pre-installed on various 
		systems typically have no support for bookmarklets. If your chosen browser's response to 
		your attempt to use the bookmarklet is to pull a web search on words found on the 
		bookmarklet line, it is safe to say your browser doesn't support it.

	<br><br>
		Till June/July of 2020 the bookmarklet was usable with really old browsers too that were 
		dated back to around the IE7/8 era (with the help of the Adobe Flash plugin), but now that 
		YouTube enforces its bug-filled new layout, you would need to have a specific extension 
		installed to resurrect outdated browsers. (See the Features section for details.)
	<br><br>
	<p>__</p>
	<br>
		Credit should go to the authors of their respective open source code I had my own built around:
	<br>
	<h3>
		John Dyer - Mediaelementplayer - <a href="http://mediaelementjs.com/">http://mediaelementjs.com/</a><br>
		Christian Heilmann - Transformvideo - <a href="http://github.com/codepo8/rotatezoomHTML5video">http://github.com/codepo8/rotatezoomHTML5video</a><br>
		Steven Penny - Youtube download bookmarklet - <a href="http://svnpenn.github.io/bm/">(closed account)</a><br>
	</h3>
	<br>
		This program is free to use for anyone.<br>
		But if you would like to, you can tip me anonymously through an option included.
	</p>


	<p>__</p>


	<h1>
		Important Notes
	</h1>

	<br>
	<ol>
	<li>
	<p>
		If you use add-ons like NoScript (a recommended practice), make sure to
	<h5>
		Whitelist / Trust these domains permanently:
	</h5>

		githubusercontent.com - program code is stored on this site<br>
		<a href="https://rawgit.com">rawgit.com</a> - #1 proxy to load the files<br>
		<a href="https://raw.githack.com">githack.com</a> - #2<br>
		<a href="https://www.jsdelivr.com/">jsdelivr.net</a> - #3<br>
		<a href="https://allow-any-origin.appspot.com">allow-any-origin.appspot.com</a> - #1 proxy to get the video signature decryption data<br>
		<a href="https://cors-anywhere.herokuapp.com">cors-anywhere.herokuapp.com</a> - #2 (these 2 were not necessary for some time now)<br>
		<a href="https://www.youtube.com">youtube.com</a> - won't even budge without its own javascript code running<br>
		googlevideo.com - youtube media is delivered through this domain<br>
	</p>
	</li>
	<br>
	<li>
	<p>
		The alternative player of Yt6 uses the Progressive Download method to access video & 
		audio, instead of the Adaptive Streaming YouTube's own player had as the default 
		since late 2013.
	<br><br>

		Both have their pros and cons. With the former, media is getting piled up in the browser's 
		cache during playback, which means there must be enough free space for storage either
		in the system RAM or on the disk. While in the case of streaming, you 
		only have tiny slices of the media buffered at all times, which in turn requires higher 
		CPU-power and constantly fast network speeds.
	<br>
		Consequently, for live streams or Ultra-HD videos it's recommended to switch over to 
		YouTube's native player, as it is much better suited for those.
	
	<br><br>
		To make sure your browser chooses memory over the much slower and/or fragile Hard 
		Disk / Solid-state drive for temporary storage, <strong><b>use the program in an Incognito / 
		In-private browser window or tab.</b></strong>
	</p>
	</li>
	<br>
	<li>
	<p>
		Occasionally, some age-restricted videos may get the same subdomain for their 
		source location as known YouTube video commercials which have already been 
		registered with adblockers such as uBlock Origin or Brave Browser's ad-shield, and as 
		a result, their download links will be made inaccessible by these adblockers as well. 
		Except if<br>
	<p>
	<ol>
		<li>you are logged in to an eligible YouTube account</li>
		<li>don't use ad-blockers at all</li>
		<li>or set up exceptions in the ad-blocker's settings</li>
	</ol>
	</p>
		For example, on uBlock Origin's control panel, the explicit greenlighting of the domains
	<br><br>
		youtube.com -- for the player data and<br>
		googlevideo.com -- to access the media links<br>
	<br>
		will do the trick, although this way you may end up getting some video ads too.<br>
		(You first need to activate the Advanced User mode in uBlock Origin's settings menu to 
		be able to do this. Tutorial: <a href="https://www.youtube.com/watch?v=SIYcI2tEqo8">https://www.youtube.com/watch?v=SIYcI2tEqo8</a>)
	<br>
	</p>
	</li>
	</ol>
	<br>


      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Yt6 maintained by <a href="https://github.com/snarly">Snarl</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
