<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Script to play, manipulate and download YouTube videos" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <!-- generics -->
    <link rel="icon" href="images/favicon-32.png" sizes="32x32">
    <link rel="icon" href="images/favicon-96.png" sizes="96x96">
    <link rel="icon" href="images/favicon-128.png" sizes="128x128">
    <link rel="icon" href="images/favicon-192.png" sizes="192x192">

    <!-- iOS -->
    <link rel="apple-touch-icon" href="images/favicon-128.png" sizes="128x128">
    <link rel="apple-touch-icon" href="images/favicon-152.png" sizes="152x152">
    <link rel="apple-touch-icon" href="images/favicon-180.png" sizes="180x180">

    <!-- Windows 8 IE 10-->
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="images/favicon-144.png">

    <!— Windows 8.1 + IE11 and above —>
    <meta name="msapplication-config" content="images/browserconfig.xml" />

    <meta name="msapplication-TileColor" content="#fefefe"/>
    <meta name="msapplication-square70x70logo" content="favicon-128.png"/>
    <meta name="msapplication-square150x150logo" content="favicon-270.png"/>
    <meta name="msapplication-TileImage" content="favicon-270.png"/>
    <meta name="msapplication-config" content="none"/>

    <title>Snarl's YouTube Video Player</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/snarly/yt6">View on GitHub</a>

          <h1 id="project_title">Yt6</h1>
          <h2 id="project_tagline">Tweak, play back free of ads and save YouTube video & audio in almost any browser on both Desktop and Mobile</h2>

    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">

    <img style="position: absolute; right: 105%; height: 180px" src="images/screenshot01.png"></img>
    <img style="position: absolute; right: 105%; height: 180px; top: 230px" src="images/screenshot02.png"></img>
    <img style="position: absolute; right: -63%; height: 750px;" src="images/screenshot03.png"></img>
    <img style="position: absolute; right: 105%; height: 180px; top: 420px" src="images/screenshot04.png"></img>
    <img style="position: absolute; right: 105%; height: 180px; top: 610px" src="images/screenshot05.png"></img>


	<h3>
	<a href="javascript:(function(){var w=window,d=w.document;if(d.location.href.indexOf('youtube.com/watch')>-1||d.location.href.indexOf('/base.js')==d.location.href.length-8){var id='snarls_player',e='script';yt6=(w.yt6)?w.yt6:{};yt6d=(w.yt6d)?w.yt6d:{};yt6.loaded=0;function s(x){x=x||id;return d.getElementById(x)};function c(e){return d.createElement(e)};function a(q){s().appendChild(q);s().add_subs='en,hu,de';yt6d.src=q.src};function r(){if(s()){var x=s().querySelector('#'+id);if(x)s().removeChild(x)}};function b(){var i,j,o,x;o=['.githack','git','js'];for(j,x,i=o.length;i;j=Math.floor(Math.random()*i),x=o[--i],o[i]=o[j],o[j]=x);if(yt6d.src!=1)o.splice(0,0,'.githubusercontent');var q=c('div');q.id=id;if(q!=s())d.body.appendChild(q);var src='https://raw'+o[0]+'.com/snarly/yt6/691d1d9761911909f930d5c6c7cd14f7e3318104/yt6.js';var src0='https://cdn.jsdelivr.net/gh/snarly/yt6@691d1d9761911909f930d5c6c7cd14f7e3318104/yt6.js';function oc(ox,oy,sr){return(oy!='js')?sr.replace(ox,oy):src0};var q=c(e);q.id=id;q.src=(o[0]!='js')?src:src0;q.onerror=function(){var q=c(e);q.id=id;q.src=oc(o[0],o[1],src);q.onerror=function(){var q=c(e);q.id=id;q.src=oc(o[0],o[2],src);q.onerror=function(){var q=c(e);q.id=id;q.src=oc(o[0],o[3],src);q.onerror=function(){var q=c(e);q.id=id;q.src=src.replace('https','http')};a(q);r();};a(q);r();};a(q);r();};try{a(q);}catch(f){a(q)};};function g(){try{deldiv()}catch(f){r()};yt6d.src=1;b()};if(!s()){b()};if(s()&&(!yt6.body||(yt6.loaded>1&&!s('mep_init'))))setTimeout(function(){if(!yt6.body||(yt6.body&&yt6.loaded>2&&!s('mep_init')))g()},3000);}else{void 0};})();/*202007131020*/">Yt6 -- Snarl's YouTube Video Player (bookmarklet)</a>
	</h3>
	<p>
		On any YouTube video (watch) page, this bookmarklet will call an external player and load 
		some extra functions, some of which can be used with YouTube's original player as well.<br>
		(Bookmarklets are bookmarks that contain no actual web address on their location field but 
		some script code which the browser can execute when the user clicks / taps them.)
	<br><br>
		To set it up
	</p>
	<ol>
		<li>Right click / hold your finger on the link, and "Copy link address". If you have no 
		such option, the code is written below in plain text also, select and copy it manually</li>
		<li>Bookmark any web page (this one for example)</li>
		<li>Edit the created bookmark's Properties / Location: delete its URL-address entirely, 
		and paste this snippet of javascript code in its place. (Optionally, you can give it a name 
		of your choice too.)</li>
		<li>Save the changes, if there is a Save button!</li>
	</ol>
		That's it, your bookmarklet is now ready to use.
	<br><br>
		Also, in many desktop browsers you can just drag and drop the link to the Bookmarks Toolbar, or right click on it and 
		select "Bookmark this link".
	<h5>
		Last updated on Jul 13, 2020 10:20
	</h5>
		(Please check back from time to time to try the latest version, and if it works well, dump the 
older ones. It may be crucial regarding its functionality.)

	<br><br>
		Code in plain text
	<br>
	<p>
	<code>
		javascript:(function(){var w=window,d=w.document;if(d.location.href.indexOf('youtube.com/watch')>-1||d.location.href.indexOf('/base.js')==d.location.href.length-8){var id='snarls_player',e='script';yt6=(w.yt6)?w.yt6:{};yt6d=(w.yt6d)?w.yt6d:{};yt6.loaded=0;function s(x){x=x||id;return d.getElementById(x)};function c(e){return d.createElement(e)};function a(q){s().appendChild(q);s().add_subs='en,hu,de';yt6d.src=q.src};function r(){if(s()){var x=s().querySelector('#'+id);if(x)s().removeChild(x)}};function b(){var i,j,o,x;o=['.githack','git','js'];for(j,x,i=o.length;i;j=Math.floor(Math.random()*i),x=o[--i],o[i]=o[j],o[j]=x);if(yt6d.src!=1)o.splice(0,0,'.githubusercontent');var q=c('div');q.id=id;if(q!=s())d.body.appendChild(q);var src='https://raw'+o[0]+'.com/snarly/yt6/691d1d9761911909f930d5c6c7cd14f7e3318104/yt6.js';var src0='https://cdn.jsdelivr.net/gh/snarly/yt6@691d1d9761911909f930d5c6c7cd14f7e3318104/yt6.js';function oc(ox,oy,sr){return(oy!='js')?sr.replace(ox,oy):src0};var q=c(e);q.id=id;q.src=(o[0]!='js')?src:src0;q.onerror=function(){var q=c(e);q.id=id;q.src=oc(o[0],o[1],src);q.onerror=function(){var q=c(e);q.id=id;q.src=oc(o[0],o[2],src);q.onerror=function(){var q=c(e);q.id=id;q.src=oc(o[0],o[3],src);q.onerror=function(){var q=c(e);q.id=id;q.src=src.replace('https','http')};a(q);r();};a(q);r();};a(q);r();};try{a(q);}catch(f){a(q)};};function g(){try{deldiv()}catch(f){r()};yt6d.src=1;b()};if(!s()){b()};if(s()&&(!yt6.body||(yt6.loaded>1&&!s('mep_init'))))setTimeout(function(){if(!yt6.body||(yt6.body&&yt6.loaded>2&&!s('mep_init')))g()},3000);}else{void 0};})();/*202007131020*/
	</code>
	</p>
	<p>__</p>
	<h1>
		How to use
	</h1>
		On Desktop/Laptop, simply <strong><b>click on it on your bookmarks list</b></strong> whenever you enter a 
		YouTube video that you want to download or play around with, unless you have the code 
		already running.
	<br><br>
		On mobile, <strong><b> tap the browser's URL/address bar first </b></strong> (NOT the YouTube search bar!). 
		After that most browsers will show it as an available option once you start typing either its 
		name ("Yt6" or whatever you named it) or the prefix "javascript:" to narrow down the 
		search to bookmarklets only. Tapping on the correct entry on this quick search results list 
		will initiate the call.
	<br><br>
		Automatic playback depends on the state of YouTube's own "Repeat / Loop Playlist" 
		button on user-created playlists. 
	<br><br>
		Use the HTML5 emblem on the control panel to switch between the native and this 
		alternative player.
	</p>
	<p>
	<h1>
		Features
	</h1>
		The program is able to

	<br>
	<ol>
		<li class="feat">restrict on-site advertisement,</li>
		<li class="feat">resize, zoom, rotate and move around video picture arbitrarily,</li>
		<li class="feat">change playback rate ("speed" or tempo) from 0 or 25% to up to 500 or 1600%,</li>
		<li class="feat">select the desired media sequence to loop,</li>
		<li class="feat">load an external audio file to play alongside the current video,</li>
		<li class="feat">pick your favoured (and supported) video/audio codec and resolution for playback,</li>
		<li class="feat">download the video/audio content,</li>
		<li class="feat">download subtitles/closed captions (CC) (on bookmarklet line, you can edit the value of 
		'add_subs' (a comma separated list of ISO 639-1 languge codes) to add Google-
		Translated tracks of your choice),</li>
		<li class="feat">change between YouTube layouts by setting the cookie on exit (for the old layout, the 
		site no longer honors this setting on its own -- use it in combination with having the case-sensitive 
		<code>Googlebot</code> word added anywhere in your browser's user-string to get the 
		classic layout back),</li>
		<li class="feat">bypass age verification (only if video embedding is enabled by the content-owner, 
		examples: <a href="https://www.youtube.com/watch?v=07FYdnEawAQ)">Tunnel Vision (signatures encrypted)</a>, <a href="https://www.youtube.com/watch?v=UqPsrqpwLmU">Cobra (signatures unencrypted)</a> -- 
		another "master stroke" of the new layout is that you'll get thrown from these to the next 
		video on a playlist in a matter of seconds),</li>
		<li class="feat">facilitate background play while your mobile is in sleep mode (experimental)</li>
	</ol>


	<br>
		It should work with almost any browser now, even older ones that are dated back to 
		around the IE8 era (with the help of the Adobe Flash plugin). Until YouTube stops serving 
		its classic layout altogether, that is.
	<br><br>
		The default "noname" browsers that come pre-installed on vaious 
		systems typically have no support for bookmarklets, and thus are useless for us.
	<br><br><br>
		Credit should go to the authors of their respective open source code I had my own built around:
	<br>
	<h3>
		John Dyer - Mediaelementplayer - <a href="http://mediaelementjs.com/">http://mediaelementjs.com/</a><br>
		Christian Heilmann - Transformvideo - <a href="http://github.com/codepo8/rotatezoomHTML5video">http://github.com/codepo8/rotatezoomHTML5video</a><br>
		Steven Penny - Youtube download bookmarklet - <a href="http://svnpenn.github.io/bm/">(closed account)</a><br>
	</h3>
	<br><br>
		This program is free to use for anyone.<br>
		But if you would like to, you can tip me anonymously through an option included.
	</p>

	<div style="display: none">
	<br>
	<p>
	<h1>
		Make it appear like an installed app
	</h1>
		There are some browser extensions which can automate the execution of <strong><b>any javascript code</b></strong> 
		specified by the user, upon each new page load. In our case this has just one 
		benefit: not having to click/tap the bookmarklet because it will always be fired up as if it 
		was an installed app. The major drawback, regardless of platform, is the possibility of 
		numerous users sending another load request for the main script on each and every 
		subsequent videos, which may cause heavy overload on its development url. (For 
		example, in my experience Firefox Mobile does have the nasty habit of doing a full page 
		refresh on every YouTube page change in Desktop view mode, which is exactly what 
		would eventually trigger an overload.) The bookmarklet's code contains sanity checks for 
		the current web location already, so nothing will happen if we are not on a YouTube video 
		page. Still, it's better to turn off these add-ons when you have no particular need for them.
	<br><br>
		Please note that the <code>javascript:</code> prefix (with the colon) preceding the code is only 
		required on a working bookmarklet line or at the address bar of the browser, serving as a 
		tag to signal what comes after it, and as such, must be omitted from a body of script. The 
		actual pure javascript part begins with <code>(function(){</code> here and ends with <code>})();</code>. Stuff 
		between these <code>/* ... */</code> are just comments, they can be incorporated but the 
		javascript interpreter will ignore them anyway. And one more thing: when you copy the 
		code directly from the link, your browser may convert the space characters found inside of 
		it to <code>%20</code>s. That's fine for a bookmarklet, but will break any plain javascript block. 
		Unless you perform a Search & Replace <code>%20</code>s back to spaces before you'd feed the code 
		to an add-on, you're better off with copying the written text instead, because touchy-touchy 
		tap-tap devices are excruciatingly dumb when it comes to editing delicate texts...
	<br><br>
		I am not involved with any of the following software's development, I merely tested them to 
		see if they really do what they claim to do. Use them at your own risk. (And keep in mind 
		that on mobile you will inevitably bump into more bugs than on Desktop/Laptop.)
	<br><br>
		<strong><b>Kiwi Browser</b></strong> or <strong><b>Yandex</b></strong> (the only ones of the Chrome "family" which can have add-ons 
		installed on Android and iOS at this time -- you may need to switch to Desktop view to be 
		able to make use of the chrome web store)<br>
		------------------------------------<br>
		Add-on: <a href="https://chrome.google.com/webstore/detail/run-javascript/lmilalhkkdhfieeienjbiicclobibjao">"Run Javascript"</a><br>
		With this one, you will have to visit each of the 3 possible YouTube domains 
		(www.youtube.com = Desktop, m.youtube.com = Mobile, and music.youtube.com) to 
		create a copy of the above javascript code for every one of them individually. Access to 
		the add-on is found at the bottom of the "3-dot" Settings menu. Also, check the box in the 
		upper right corner of the setup form to enable running on the given domain before you 
		click Save.
	<br><br>
		<strong><b>Firefox</b></strong><br>
		-----------<br>
		Add-on: <a href="https://addons.mozilla.org/en/firefox/addon/my-js-injector">"JS Injector"</a><br>
		This one won't give you the option to use different scripts on different domains, it will try to 
		run the same one for all sites across the net. Unfortunately, it couldn't get my script to 
		work on the YouTube Music subdomain. Maybe it's loading it up too early, before the site 
		could finish loading some important parts of the page. Also, the mobile version of NoScript 
		seems to prevent this add-on from normal operation, so I had to disable NoScript.
	<br><br>
	</p>
	</div>

	<p>__</p>


	<h1>
		Important Notes
	</h1>

	<br>
	<ol>
	<li>
	<p>
		If you use add-ons like NoScript (a recommended practice), set them to
	<h6>
		Whitelist / Trust these domains:
	</h6>

		githubusercontent.com - program code is stored on this site<br>
		<a href="https://rawgit.com">rawgit.com</a> - #1 caching proxy to load the main script<br>
		<a href="https://raw.githack.com">githack.com</a> - #2<br>
		<a href="https://www.jsdelivr.com/">jsdelivr.net</a> - #3<br>
		<a href="https://allow-any-origin.appspot.com">allow-any-origin.appspot.com</a> - #1 proxy to get the video decryption data<br>
		<a href="https://cors-anywhere.herokuapp.com">cors-anywhere.herokuapp.com</a> - #2 (these 2 were not necessary for some time now)<br>
		<a href="https://www.youtube.com">youtube.com</a> - won't even budge without its own javascript code running<br>
		googlevideo.com - youtube media is delivered through this domain<br>
	</p>
	</li>
	<br>
	<li>
	<p>
		The media player of Yt6 uses the Progressive Download method to access audio & 
		video, instead of the Adaptive Streaming YouTube had as the default since late 2013.
	<br><br>

		Both have their pros and cons. With the former, media is getting piled up in the browser's 
		cache during playback, which means there must be enough free space for storage either
		in the system RAM or on the disk. While with the latter, you only have tiny slices of the 
		media buffered at a time, which in turn requires higher CPU-power and constantly fast 
		network speeds.
	<br>
		Consequently, for live streams or Ultra-HD videos it's recommended to switch over to 
		YouTube's native player, as it is much better suited for those.
	
	<br><br>
		To make sure your browser chooses memory for temporary storage over the much slower 
		and/or fragile Hard Disk / Solid-state drive, <strong><b>use the program in an Incognito / 
		In-private browser window / tab.</b></strong>
	</p>
	</li>
	<br>
	<li>
	<p>
		Some age-restricted videos may have the same subdomain in their source location as 
		known YouTube video commercials which have already been registered with adblockers 
		such as uBlock Origin or Brave Browser's ad-shield, and as a result, their download links 
		will be made inaccessible by these adblockers as well. Except if<br>
	<p>
	<ol>
		<li>you are logged in to an eligible YouTube account</li>
		<li>don't use ad-blockers at all</li>
		<li>or set up exceptions in the ad-blocker's settings</li>
	</ol>
	</p>
		For example, on uBlock Origin's control panel, the explicit greenlighting of the domains
	<br><br>
		youtube.com -- for the player data and<br>
		googlevideo.com -- to access the media links<br>
	<br>
		will do the trick, although this way you may end up getting some video ads too.<br>
		(You first need to activate the Advanced User mode in uBlock Origin's settings menu to 
		be able to do this. Tutorial: <a href="https://www.youtube.com/watch?v=SIYcI2tEqo8">https://www.youtube.com/watch?v=SIYcI2tEqo8</a>)
	<br>
	</p>
	</li>
	</ol>
	<br>


      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Yt6 maintained by <a href="https://github.com/snarly">Snarl</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
